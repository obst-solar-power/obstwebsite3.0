<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OBST <%= product.title %></title>
    <%- include("./_partials/css.ejs") %>
    <link rel="shortcut icon" href="./assets/favicon.ico" type="image/x-icon" />
  </head>

  <body>
    <%- include("./_partials/nav.ejs", {active : "./products.html"}) %>

    <section class="max-sm:pt-10 section">
      <div>
        <div class="max-md:mt-0 my-10 border-2 border-gray-100 p-5 md:h-[70vh] flex items-center justify-center">
          <div class="md:flex gap-x-10 w-full h-full">
            <div class="flex-grow items-center justify-center flex h-full">
              <img
                id="showImage"
                src="<%=  product.url%>"
                class="object-bottom object-cover max-w-full max-md:w-full md:h-[90%]"
                alt="an image of OBST <%= product.title %>"
              />
            </div>
            <div class="max-md:flex max-md:pt-10 max-md:justify-between shrink-0 mg:space-y-4">
              <% if(product.images?.length){product.images.forEach(image=>{%>
              <div
                class="product-images max-md:w-1/6 max-md:bg-gray-100/40 md:h-1/6 aspect-square p-2 cursor-pointer hover:bg-gray-200 duration-300 rounded-md"
              >
                <img src="<%= image %>" alt="" class="w-full aspect-square" />
              </div>
              <%})}%>
            </div>
          </div>
        </div>
        <div class="max-sm:p-1 mx-auto max-w-[750px] border border-slate-300 rounded-lg">
          <div class="border-b border-b-slate-300">
            <h1 class="font-bold ps-2 border-b-100 inter-var text-2xl py-7"><%=product.title%></h1>
          </div>
          <div class="border-slate-300 [&>div]:border-b">
            <div class="text-black font-normal py-3 px-3 text-2xl">Main Parameter</div>
            <% if (Array.isArray(product.features)) {%> <%product.features.forEach(ft=>{%>
            <div class="text-slate-500 flex justify-between p-3 text-md">
              <p class="text-black font-medium"><%= ft[0] %></p>
              <p class="font-light"><%= ft[1] %></p>
            </div>
            <%})%> <%}else{%> <% for (let props in product.features) { %>
            <div class="text-slate-500 flex justify-between p-3 text-lg" key="{props}">
              <p class="uppercase font-normal text-gray-600">~ <%= props.replace("_", " ") %></p>
            </div>
            <% product.features[props].forEach(ft=>{%>
            <div class="text-slate-500 flex justify-between p-3 text-md">
              <p class="text-black font-medium"><%= ft[0] %></p>
              <p class="font-light"><%= ft[1] %></p>
            </div>
            <%})%> <%}%> <%}%>
          </div>
        </div>
      </div>
      <% if(product.download){%>
      <div class="mt-10">
        <h1 class="font-medium text-xl mb-3">download document</h1>
        <div>
          <a
            download
            href="<%= product.download %>"
            class="border border-gray-500 rounded-md px-5 py-3 flex items-center gap-x-3 w-fit hover:text-indigo-600 group"
          >
            <div>
              <svg class="w-10" version="1.1" id="Layer_1" viewBox="0 0 512 512" xml:space="preserve">
                <path style="fill: #e2e5e7" d="M128,0c-17.6,0-32,14.4-32,32v448c0,17.6,14.4,32,32,32h320c17.6,0,32-14.4,32-32V128L352,0H128z" />
                <path style="fill: #b0b7bd" d="M384,128h96L352,0v96C352,113.6,366.4,128,384,128z" />
                <polygon style="fill: #cad1d8" points="480,224 384,128 480,128 " />
                <path style="fill: #f15642" d="M416,416c0,8.8-7.2,16-16,16H48c-8.8,0-16-7.2-16-16V256c0-8.8,7.2-16,16-16h352c8.8,0,16,7.2,16,16  V416z" />
                <g>
                  <path
                    style="fill: #ffffff"
                    d="M101.744,303.152c0-4.224,3.328-8.832,8.688-8.832h29.552c16.64,0,31.616,11.136,31.616,32.48   c0,20.224-14.976,31.488-31.616,31.488h-21.36v16.896c0,5.632-3.584,8.816-8.192,8.816c-4.224,0-8.688-3.184-8.688-8.816V303.152z    M118.624,310.432v31.872h21.36c8.576,0,15.36-7.568,15.36-15.504c0-8.944-6.784-16.368-15.36-16.368H118.624z"
                  />
                  <path
                    style="fill: #ffffff"
                    d="M196.656,384c-4.224,0-8.832-2.304-8.832-7.92v-72.672c0-4.592,4.608-7.936,8.832-7.936h29.296   c58.464,0,57.184,88.528,1.152,88.528H196.656z M204.72,311.088V368.4h21.232c34.544,0,36.08-57.312,0-57.312H204.72z"
                  />
                  <path
                    style="fill: #ffffff"
                    d="M303.872,312.112v20.336h32.624c4.608,0,9.216,4.608,9.216,9.072c0,4.224-4.608,7.68-9.216,7.68   h-32.624v26.864c0,4.48-3.184,7.92-7.664,7.92c-5.632,0-9.072-3.44-9.072-7.92v-72.672c0-4.592,3.456-7.936,9.072-7.936h44.912   c5.632,0,8.96,3.344,8.96,7.936c0,4.096-3.328,8.704-8.96,8.704h-37.248V312.112z"
                  />
                </g>
                <path style="fill: #cad1d8" d="M400,432H96v16h304c8.8,0,16-7.2,16-16v-16C416,424.8,408.8,432,400,432z" />
              </svg>
            </div>
            <p><%= product.title %></p>
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5" viewBox="0 0 24 24" fill="none">
                <rect width="24" height="24" fill="white" />
                <path
                  d="M5 12V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V12"
                  stroke="#000000"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path d="M12 3L12 15M12 15L16 11M12 15L8 11" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </div>
          </a>
        </div>
      </div>
      <%}%>
    </section>

    <!-- This is the footer element -->
    <%- include("./_partials/footer.ejs") %>
    <!-- The end of the footer# -->

    <script>
      Array.from(document.getElementsByClassName("product-images")).map((image) => {
        image.addEventListener("click", function (e) {
          document.getElementById("showImage").setAttribute("src", e.target.getAttribute("src"));
        });
      });
    </script>
  </body>
</html>
